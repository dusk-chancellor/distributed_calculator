# ะะฐัะฟัะตะดะตะปะตะฝะฝัะน ะบะฐะปัะบัะปััะพั

> ะญัะพั ะฟัะพะตะบั ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ะฒัะฟะพะปะฝะตะฝะธะต ัะธะฝะฐะปัะฝะพะน ะทะฐะดะฐัะธ ะฒ
ะฏะฝะดะตะบั.ะะธัะตะต ("ัะฐัะฟัะตะดะตะปะตะฝะฝะฐั ัะธััะตะผะฐ ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ะฒััะธัะปะตะฝะธะน").
ะกะธััะตะผะฐ ัะพััะพะธั ะธะท 2ั ะพัะฝะพะฒะฝัั ะบะพะผะฟะพะฝะตะฝัะพะฒ: *ะพัะบะตัััะฐัะพั* - "ะผะตะฝะตะดะถะตั", 
ัะฟัะฐะฒะปัััะธะน ะธ ะบะพะพัะดะธะฝะธััััะธะน ะฒััะธัะปะตะฝะธัะผะธ; *ะฐะณะตะฝั* - "ะฒััะธัะปะธัะตะปั", ะพัะฒะตัะฐััะธะน 
ะทะฐ ะพะฑัะฐะฑะพัะบั ะฒััะธัะปะตะฝะธะน.

## ะกะพะดะตัะถะฐะฝะธะต
### - [ะฃััะฐะฝะพะฒะบะฐ](#ัััะฐะฝะพะฒะบะฐ)
### - [ะะพะบ-ัะตัั](#ะผะพะบ-ัะตัั)
### - [ะกัััะบัััะฐ ะฟัะพะตะบัะฐ](#ััััะบัััะฐ-ะฟัะพะตะบัะฐ)
### - [ะขะตัะฝะพะปะพะณะธะธ](#ัะตัะฝะพะปะพะณะธะธ)
### - [ะะพะฝัะฐะบัั](#ะบะพะฝัะฐะบัั)

## ะฃััะฐะฝะพะฒะบะฐ
### ะกัะฐััะน ะดะพะฑััะน ะผะตัะพะด:
1. ะัะบัะพะนัะต ะฝัะถะฝัั ะดะธัะตะบัะพัะธั ะฒ ัะตัะผะธะฝะฐะปะต ะธ ะบะปะพะฝะธััะนัะต ััะดะฐ ัะตะฟะพะทะธัะพัะธะน:
<br>
`git clone https://github.com/dusk-chancellor/distributed_calculator.git`

ะั ัะฐะบะถะต ะผะพะถะตัะต ัะบะฐัะฐัั zip ัะฐะนะป ะฟัะพะตะบัะฐ ะธ ะธะทะฒะปะตัั ะตะณะพ ะฒ ะฝัะถะฝัั ะดะธัะตะบัะพัะธั.

2. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ:
<br>
`cd distributed_calculator`

3. ะฃััะฐะฝะพะฒะธัะต ะพะฑัะทะฐัะตะปัะฝัะต ะทะฐะฒะธัะธะผะพััะธ:
<br>
`go mod tidy`

4. ะะฐะฟัััะธัะต ะพัะบะตัััะฐัะพั ั ัะฐะฑะพัะตะน ะดะธัะตะบัะพัะธะธ:
<br>
`go run ./cmd/orchestrator/main.go`

ะ ัะตัะผะธะฝะฐะปะต ะดะพะปะถะฝะพ ะพัะพะฑัะฐะทะธัััั 'running Orchestrator server at
localhost:8080' ะธ 'running Orchestrator manager'

5. ะะฐะฟัััะธัะต ะฐะณะตะฝัะฐ ั ัะฐะฑะพัะตะน ะดะธัะตะบัะพัะธะธ:
<br>
`go run ./cmd/agent/main.go`

ะ ัะตัะผะธะฝะฐะปะต ะฒั ะดะพะปะถะฝั ัะฒะธะดะตัั 'tcp listener started at localhost:5000'

6. ะะตัะตะนัะธ ะฝะฐ [localhost:8080](http://localhost:8080/) ะธ ะฝะฐัะฐัั ะฟัะพะฒะตัััั !

### ะะฐะฟััะบ ะดะพะบะตัะพะผ:

1. ะะฐะฟัััะธัะต [Docker Desktop](https://www.docker.com/products/docker-desktop/)
ะธะปะธ ะถะต ะทะฐะฟัััะธัะต docker daemon

2. ะะพะดะฝะธะผะธัะต ะบะพะฝัะตะนะฝะตัั:
<br>
`docker-compose up`

3. ะะดะธัะต, ะผะฝะพะณะพ.

4. ะัะฟัะฐะฒะปัะนัะตัั ะฝะฐ [localhost:8080](http://localhost:8080/)
ะธ ะฝะฐัะธะฝะฐะนัะต ะฟัะพะฒะตัััั !

P.S ~~ะะฒัะพั ะฝะต ัะตะบะพะผะผะตะฝะดัะตั ะดะฐะฝะฝัะน ะผะตัะพะด, ั.ะบ ะฒ ะตะณะพ ัะปััะฐะต ะฟัะธ ะทะฐะฟััะบะต
ะบะพะฝัะตะนะฝะตัะพะฒ ะฒัะปะตัะตะปะธ ะฒัะต ัะธะบัะธะบะธ ะธะท ะบะพะผะฟัััะตัะฐ~~ ๐

## ะะพะบ-ัะตัั

> ะัะธ ะฟัะพะฒะตัะบะต ะฟัะพะตะบัะฐ ั ะฑัะฐัะทะตัะฐ ัะตะบะพะผะตะฝะดัะตััั ะฟะพััะพัะฝะฝะพ ะพััะปะตะถะธะฒะฐัั ะบะพะฝัะพะปั
ะธ ัะพััะพัะฝะธะต ัะตัะธ ะฝะฐะถะฐัะธะตะผ ะฝะฐ F12. ะขะฐะบ, ะะฐะผ ะฑัะดะตั ัะดะพะฑะฝะตะต ะฟัะพะฒะตัััั ััะพ ะธ ะบะฐะบ ะฟัะพะธััะพะดะธั.

- **ะะพัะปะต ััะฐะฟะฐ ะทะฐะฟััะบะฐ ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ ะธ ะฟะตัะตัะพะดะฐ ะฟะพ [localhost:8080](http://localhost:8080/)
ะฒะฐั ะดะพะปะถะฝะพ ะฑัะปะพ ะฟะตัะตะบะธะฝััั ะฒ [localhost:8080/auth](http://localhost:8080/auth)
(ะตัะปะธ ัะฐะบ ะฝะต ะฟัะพะธะทะพัะปะพ, ัะพ ะฟะพะถะฐะปัะนััะฐ ะพะฑะฝะพะฒะธัะต ัััะฐะฝะธัะบั)**

![Auth Page](/presentation_imgs/auth_page.png)

- **ะกะพะทะดะฐะนัะต ะดะปั ะฝะฐัะฐะปะฐ ะฐะบะบะฐัะฝั: ะฟะพะดะฑะตัะธัะต ะทะฐะฟะพะผะธะฝะฐััะตะตัั ะธะผั ะธ ะฟะฐัะพะปั, ะฐ
ะทะฐัะตะผ ะฝะฐะถะผะธัะต ะฝะฐ ะบะฝะพะฟะบั "Sign up"**

![Sign Up](/presentation_imgs/sign_up.png)

- **ะขะตะฟะตัั ะผะพะถะตัะต ะทะฐัะพะดะธัั ะฒ ัะฒะพะน ะฐะบะบะฐัะฝั: ะฒะฒะตะดะธัะต ัะต ะถะต ะดะฐะฝะฝัะต ะธ ะฝะฐะถะผะธัะต
ะฝะฐ ะบะฝะพะฟะบั "Login". ะะพัะปะต ััะฟะตัะฝะพะณะพ ะฒัะพะดะฐ ะะฐั ะดะพะปะถะฝะพ ะฟะตัะตะฑัะพัะธัั ะฝะฐ ะณะปะฐะฒะฝัั
ัััะฐะฝะธัั ะฟัะพะตะบัะฐ**

![Login](/presentation_imgs/login.png)

> ะกะพะทะดะฐะฝะฝัะน ะฟัะธ ะฒัะพะดะต ัะพะบะตะฝ ะฟัะพัััะฝะตั ัะตัะตะท 3 ะผะธะฝััั ะธ ะฒะฐะผ ะฝะฐะดะพ ะฑัะดะตั ัะฝะพะฒะฐ
ะฟะตัะตะทะฐัะพะดะธัั ะฒ ัะฒะพะน ะฐะบะบะฐัะฝั. ะญัะพ ะฑัะปะพ ัะดะตะปะฐะฝะพ ะดะปั ัะพะณะพ, ััะพะฑั ะฟัะพะฒะตัะธัั ะตะณะพ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั.

- **ะะฒะตะดะตะผ ะฟัะธะผะตั '2+2*2', ะพัะฟัะฐะฒะธะผ ะตะณะพ ะฝะฐ ะฒััะธัะปะตะฝะธะต ะบะฝะพะฟะบะพะน "Send" ะธ ะพะฑะฝะพะฒะธะผ ัััะฐะฝะธัะบั**

![Status-stored](/presentation_imgs/status_stored.png)

- **ะะฑะฝะพะฒะปัะตะผ ัััะฐะฝะธัั ะฟะพะบะฐ ะฟัะธะผะตั ะฝะต ัะตัะธััั**

![Status-done](/presentation_imgs/status_done.png)

> ะะฝะพะฟะบะฐ ัะดะฐะปะธัั ัะฐะฑะพัะฐะตั. ะะฐะนะดั ะฒ ะดััะณะพะน ะฐะบะบะฐัะฝั, ะฒั ะฝะต ะพะฑะฝะฐััะถะธัะต ะฒััะฐะถะตะฝะธะน ะดััะณะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน.

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโ cmd - ะทะฐะฟััะบ ะบะพะผะฟะพะฝะตะฝัะพะฒ
โ โโโ agent - "ะฒััะธัะปะธัะตะปั"
โ โ โโโ main.go
โ โโโ orchestrator - "ะผะตะฝะตะดะถะตั"
โ โ โโโ main.go
โโโ database - ะฑะฐะทะฐ ะดะฐะฝะฝัั
โ โโโ storage.db    #sqlite3
โโโ frontend - ะฒะฝะตัะฝัั ะพะฑะพะปะพัะบะฐ
โ โโโ auth - ัััะฐะฝะธัะฐ ะฐััะตะฝัะธัะธะบะฐัะธะธ
โ โ โโโ index.html
โ โ โโโ script.js
โ โ โโโ style.css
โ โโโ main - ะณะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
โ โ โโโ index.html
โ โ โโโ script.js
โ โ โโโ style.css
โโโ internal - ะฒะฝัััะตะฝะฝะธะต ะฟะฐะบะตัั
โ โโโ grpc - ะบะพะฝะฝะตะบัะพัั ะณัะฟั ัะฒัะทะธ
โ โ โโโ agent - ะดะปั ะฐะณะตะฝัะฐ (ะทะฐะฟััะบ tcp ัะปััะฐัะตะปั)
โ โ โ โโโ agent.go
โ โ โโโ orchestrator - ะดะปั ะพัะบะตัััะฐัะพัะฐ (ะผะตัะพะดั ะพัะฟัะฐะฒะบะธ ะทะฐะฟัะพัะพะฒ)
โ โ โ โโโ orchestrator.go
โ โโโ http - ะดะปั http-ะทะฐะฟัะพัะพะฒ
โ โ โโโ handlers - REST API ัะตะฝะดะปะตัั
โ โ โ โโโ auth - ัะตะฝะดะปะตัั ะฐะฒัะพัะธะทะฐัะธะธ
โ โ โ โ โโโ auth.go
โ โ โ โโโ expression - ัะตะฝะดะปะตัั ัะฐะฑะพัั ั ะฒััะฐะถะตะฝะธัะผะธ
โ โ โ โ โโโ expression.go
โ โโโ storage - ะผะตัะพะดั ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ะฑะฐะทะพะน ะดะฐะฝะฝัั
โ โ โโโ expression_storage.go - ะผะตัะพะดั ะดะปั expressions table
โ โ โโโ storage.go - ะธะฝะธัะธะฐะปะธะทะฐัะธั ะธ ัะพะทะดะฐะฝะธะต ัะฐะฑะปะธั
โ โ โโโ user_storage.go - ะผะตัะพะดั ะดะปั users table
โ โโโ utils - ะดะพะฟ.ะธะฝััััะผะตะฝัั ะดะปั ะฟะพะปะฝะพัะตะฝะฝะพะน ัะฐะฑะพัั ะบะพะผะฟะพะฝะตะฝัะพะฒ
โ โ โโโ agent - ะธะฝััััะผะตะฝัั ะฐะณะตะฝัะฐ
โ โ โ โโโ calculation - ะฟัะพะธะทะฒะตะดะตะฝะธะต ะฒััะธัะปะตะฝะธั
โ โ โ โ โโโ calculation.go
โ โ โ โ โโโ stack.go
โ โ โ โโโ infix_to_postfix - ะฟัะตะฒัะฐัะตะฝะธะต ะฒััะฐะถะตะฝะธั ะฒ ะฟะพัััะธะบัะฝัั ะทะฐะฟะธัั
โ โ โ โ โโโ infix_to_postfix.go
โ โ โ โ โโโ stack.go
โ โ โ โโโ validator - ะฒะฐะปะธะดะฐัะธั ะดะพะฟัััะธะผะพััะธ ะฒััะฐะถะตะฝะธั
โ โ โ โ โโโ validator.go
โ โ โโโ orchestrator - ะธะฝััััะผะตะฝัั ะพัะบะตัััะฐัะพัะฐ
โ โ โ โโโ jwts - ะณะตะฝะตัะฐัะธั ะธ ะฒะฐะปะธะดะฐัะธั jwt-ัะพะบะตะฝะพะฒ
โ โ โ โ โโโ jwts.go
โ โ โ โโโ manager - ัะปัะถะฑะฐ ะฟะพััะพัะฝะฝะพะน ัะฒัะทะธ ั ะฑะฐะทะพะน ะดะฐะฝะฝัั ะธ ะพัะฟัะฐะฒะบะธ ะฒััะฐะถะตะฝะธั ะฐะณะตะฝัั
โ โ โ โ โโโ manager.go
โโโ proto - ะฟัะพัะพ ะธ ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต ัะฐะนะปั ะดะปั grpc ะพะฑัะตะฝะธั
โ โโโ agent_grpc.pb.go
โ โโโ agent.pb.go
โ โโโ agent.proto
โโโ docker-compose.yaml
โโโ Dockerfile.Agent
โโโ Dockerfile.Orchestrator
โโโ go.mod
โโโ go.sum
โโโ LICENSE
โโโ README.md
```

### REST API ะทะฐะฟัะพัั

<u>[POST /auth/signup/] -> [RegisterUserHandler] -> [RegisterUser]

[POST /auth/login/] -> [LoginUserHandler] -> [LoginUser]

[POST /expression/] -> [CreateExpressionHandler] -> [InsertExpression]

[GET /expression/] -> [GetExpressionsHandler] -> [SelectExpressionsByID]

[DELETE /expression/{id}/] -> [DeleteExpressionHandler] -> [DeleteExpression]</u>

## ะขะตัะฝะพะปะพะณะธะธ

ะ ััะพะผ ะฟัะพะตะบัะต ะธัะฟะพะปัะทััััั ัะปะตะดัััะธะต ัะตัะฝะพะปะพะณะธะธ ะธ ะธะฝััััะผะตะฝัั:

<div style="display: flex; justify-content: space-around; flex-wrap: wrap;">

<a href="https://golang.org/" target="_blank">
 <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Go_Logo_Blue.svg/1200px-Go_Logo_Blue.svg.png" alt="Go" width="65">
</a>

<a href="https://grpc.io/" target="_blank">
 <img src="https://grpc.io/img/grpc_square_reverse_4x.png" alt="gRPC" width="65">
</a>

<a href="https://jwt.io/" target="_blank">
 <img src="https://jwt.io/img/logo.svg" alt="JWT" width="65">
</a>

<a href="https://developers.google.com/protocol-buffers" target="_blank">
 <img src="https://www.codespot.org/assets/cover/protocol-buffers.png" alt="Protocol Buffers" width="65">
</a>

<a href="https://www.sqlite.org/index.html" target="_blank">
 <img src="https://www.sqlite.org/images/sqlite370_banner.gif" alt="SQLite" width="65">
</a>

</div>
<div style="display: flex; justify-content: space-around; flex-wrap: wrap;">

<a href="https://developer.mozilla.org/en-US/docs/Web/HTML" target="_blank">
 <img src="https://cdn.dribbble.com/users/66221/screenshots/1655593/media/63d9b0acd7e81cde54f291bdcf8a24df.png?resize=400x300&vertical=center" alt="HTML" width="65">
</a>

<a href="https://developer.mozilla.org/en-US/docs/Web/CSS" target="_blank">
 <img src="https://i.pinimg.com/736x/a9/dc/c7/a9dcc740cad3149598307b5de8bc10c3.jpg" alt="CSS" width="65">
</a>

<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank">
 <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/JavaScript-logo.png" alt="JavaScript" width="65">
</a>

<a href="https://www.docker.com/" target="_blank">
 <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQTQtnXQkjxe8xcXLmq8OvpW5ugiLGN_Y8Jepra6Wt1AA&s" alt="Docker" width="65">
</a>

<a href="https://docs.docker.com/compose/" target="_blank">
 <img src="https://i0.wp.com/codeblog.dotsandbrackets.com/wp-content/uploads/2016/10/compose-logo.jpg?ssl=1" alt="Docker Compose" width="65">
</a>

</div>


#### ะัะฝะพะฒะฝะพะน ัะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั (Backend)

- **Golang**: ะัะฝะพะฒะฝะพะน ัะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั, ะธัะฟะพะปัะทัะตะผัะน ะดะปั ัะฐะทัะฐะฑะพัะบะธ ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ ัะธััะตะผั

#### ะคัะตะนะผะฒะพัะบะธ ะธ ะฑะธะฑะปะธะพัะตะบะธ

- **gRPC**: ะัะฟะพะปัะทัะตััั ะดะปั ัะพะทะดะฐะฝะธั ะฒััะพะบะพะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพะณะพ, ะพัะบัััะพะณะพ
ะธ ัะฝะธะฒะตััะฐะปัะฝะพะณะพ RPC-ััะตะนะผะฒะพัะบะฐ

- **JWT**: ะัะฟะพะปัะทัะตััั ะดะปั ะฐััะตะฝัะธัะธะบะฐัะธะธ ะธ ะฐะฒัะพัะธะทะฐัะธะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน

- **Protocol Buffers**: ะัะฟะพะปัะทัะตััั ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ััััะบัััั ะดะฐะฝะฝัั ะธ ัะตัะฒะธัะพะฒ,
ะพะฑะตัะฟะตัะธะฒะฐั ัััะตะบัะธะฒะฝะพะต ะธ ะฑััััะพะต ัะตัะธะฐะปะธะทะพะฒะฐะฝะธะต ะดะฐะฝะฝัั

#### ะะฐะทะฐ ะดะฐะฝะฝัั

- **SQLite3**: ะัะฟะพะปัะทัะตััั ะฒ ะบะฐัะตััะฒะต ะปะตะณะบะพะฒะตัะฝะพะน ะฑะฐะทั ะดะฐะฝะฝัั ะดะปั ััะฐะฝะตะฝะธั ะธะฝัะพัะผะฐัะธะธ
ะพ ะฟะพะปัะทะพะฒะฐัะตะปัั ะธ ะฒััะฐะถะตะฝะธัั. <u>ะะฐะฟะปะฐะฝะธัะพะฒะฐะฝะพ</u>: ะผะธะณัะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั ะฝะฐ PostgreSQL

#### ะะฝัะตััะตะนั ะฟะพะปัะทะพะฒะฐัะตะปั (Frontend)

- **HTML, CSS, JavaScript**: ะัะฟะพะปัะทััััั ะดะปั ัะพะทะดะฐะฝะธั ะฒะตะฑ-ะธะฝัะตััะตะนัะฐ, ะพะฑะตัะฟะตัะธะฒะฐั
ะธะฝัะตัะฐะบัะธะฒะฝะพััั ะธ ัะดะพะฑััะฒะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน. ะะตะฑ-ะธะฝัะตััะตะนั
ะดะปั ััะพะณะพ ะฟัะพะตะบัะฐ ะฑัะป ะผะฐะบัะธะผะฐะปัะฝะพ ัะฟัะพัะตะฝ

#### ะะฝััััะผะตะฝัั ัะฐะทัะฐะฑะพัะบะธ (ะพะฟัะธะพะฝะฐะปัะฝะพ)

- **Docker**: ะัะฟะพะปัะทัะตััั ะดะปั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธะธ ะบะพะผะฟะพะฝะตะฝัะพะฒ ัะธััะตะผั, ะพะฑะตัะฟะตัะธะฒะฐั
ัะดะพะฑััะฒะพ ัะฐะทะฒะตัััะฒะฐะฝะธั ะธ ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธั

- **Docker Compose**: ะัะฟะพะปัะทัะตััั ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ะธ ะทะฐะฟััะบะฐ ะผะฝะพะณะพะบะพะฝัะตะนะฝะตัะฝัั ะฟัะธะปะพะถะตะฝะธะน
Docker, ัะฟัะพัะฐั ะฟัะพัะตัั ัะฐะทะฒะตัััะฒะฐะฝะธั ะธ ัะฟัะฐะฒะปะตะฝะธั ะบะพะฝัะตะนะฝะตัะฐะผะธ.

ะกัะพะธั ััะตััั, ััะพ ะฒัะต ะฒััะต ะฟะตัะตัะธัะปะตะฝะฝัะต ัะตัะฝะพะปะพะณะธะธ ะฝะต ะฑัะปะธ ะฟัะธะผะตะฝะตะฝั ะฒ ะธั ะฟะพะปะฝัั ัะธะปั

## ะะพะฝัะฐะบัั

ะัะปะธ ั ะฒะฐั ะฒะดััะณ ััะพ-ัะพ ะฝะต ัะฐะฑะพัะฐะตั, ะตััั ะฒะพะฟัะพัั ะธะปะธ ะฟัะตะดะปะพะถะตะฝะธั, ัะพ ะฟะพะถะฐะปัะนััะฐ ะพะฑัะฐัะธัะตัั ะบะพ [ะผะฝะต](https://t.me/duskchancellor)